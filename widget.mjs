
          function e(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];var i;return t[n]=Object.assign({},o),r(o.value)&&(i=o.value,"[object Function]"!==Object.prototype.toString.call(i))&&!Array.isArray(o.value)&&(t[n].value=Object.assign({},o.value)),Array.isArray(o.value)&&(t[n].value=o.value.slice(0)),t}),{})}function t(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function n(e,t,n,r){if(null==n||!1===n)return e.removeAttribute(t);let o=r?JSON.stringify(n):n;e.__updating[t]=!0,"true"===o&&(o=""),e.setAttribute(t,o),Promise.resolve().then((()=>delete e.__updating[t]))}function r(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let o;function i(r,i){const s=Object.keys(i);return class extends r{static get observedAttributes(){return s.map((e=>i[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(r,o){const i=e(o);return Object.keys(o).forEach((e=>{const o=i[e],s=r.getAttribute(o.attribute),l=r[e];s&&(o.value=o.parse?t(s):s),null!=l&&(o.value=Array.isArray(l)?l.slice(0):l),o.reflect&&n(r,o.attribute,o.value,!!o.parse),Object.defineProperty(r,e,{get:()=>o.value,set(t){const r=o.value;o.value=t,o.reflect&&n(this,o.attribute,o.value,!!o.parse);for(let n=0,o=this.__propertyChangedCallbacks.length;n<o;n++)this.__propertyChangedCallbacks[n](e,t,r)},enumerable:!0,configurable:!0})})),i}(this,i);const r=function(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{})}(this.props),s=this.Component,l=o;try{o=this,this.__initialized=!0,"function"==typeof(a=s)&&0===a.toString().indexOf("class")?new s(r,{element:this}):s(r,{element:this})}finally{o=l}var a}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,n,r){if(this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in i){if(null==r&&!this[e])return;this[e]=i[e].parse?t(r):r}}lookupProp(e){if(i)return s.find((t=>e===t||e===i[t].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function s(e,t={},n={}){const{BaseElement:o=HTMLElement,extension:s,customElements:l=window.customElements}=n;return n=>{if(!e)throw new Error("tag is required to register a Component");let a=l.get(e);return a?(a.prototype.Component=n,a):(a=i(o,function(e){return e?Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[n]=r(o)&&"value"in o?o:{value:o},t[n].attribute||(t[n].attribute=n.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")),t[n].parse="parse"in t[n]?t[n].parse:"string"!=typeof t[n].value,t}),{}):{}}(t)),a.prototype.Component=n,a.prototype.registeredTag=e,l.define(e,a,s),a)}}const l={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return a(this.context.count)},getNextContextId(){return a(this.context.count++)}};function a(e){const t=String(e),n=t.length-1;return l.context.id+(n?String.fromCharCode(96+n):"")+t}const c=Symbol("solid-proxy"),u="function"==typeof Proxy,d=Symbol("solid-track"),p={equals:(e,t)=>e===t};let f=B;const h=1,g=2,y={owned:null,cleanups:null,context:null,owner:null};var b=null;let m=null,v=null,w=null,x=null,k=0;function C(e,t){const n=v,r=b,o=0===e.length,i=void 0===t?r:t,s=o?y:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=o?e:()=>e((()=>_((()=>D(s)))));b=s,v=null;try{return T(l,!0)}finally{v=n,b=r}}function P(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},p,t):p).equals||void 0};return[M.bind(n),e=>("function"==typeof e&&(e=e(n.value)),$(n,e))]}function A(e,t,n){z(L(e,t,!1,h))}function S(e,t,n){f=R;const r=L(e,t,!1,h);n&&n.render||(r.user=!0),x?x.push(r):z(r)}function O(e,t,n){n=n?Object.assign({},p,n):p;const r=L(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,z(r),M.bind(r)}function _(e){if(null===v)return e();const t=v;v=null;try{return e()}finally{v=t}}function j(e,t,n){const r=Array.isArray(e);let o,i=n&&n.defer;return n=>{let s;if(r){s=Array(e.length);for(let t=0;t<e.length;t++)s[t]=e[t]()}else s=e();if(i)return i=!1,n;const l=_((()=>t(s,o,n)));return o=s,l}}function E(e){return null===b||(null===b.cleanups?b.cleanups=[e]:b.cleanups.push(e)),e}function M(){if(this.sources&&this.state)if(this.state===h)z(this);else{const e=w;w=null,T((()=>I(this)),!1),w=e}if(v){const e=this.observers?this.observers.length:0;v.sources?(v.sources.push(this),v.sourceSlots.push(e)):(v.sources=[this],v.sourceSlots=[e]),this.observers?(this.observers.push(v),this.observerSlots.push(v.sources.length-1)):(this.observers=[v],this.observerSlots=[v.sources.length-1])}return this.value}function $(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&T((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=m&&m.running;r&&m.disposed.has(n),(r?n.tState:n.state)||(n.pure?w.push(n):x.push(n),n.observers&&W(n)),r||(n.state=h)}if(w.length>1e6)throw w=[],new Error}),!1)),t}function z(e){if(!e.fn)return;D(e);const t=k;!function(e,t,n){let r;const o=b,i=v;v=b=e;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=h,e.owned&&e.owned.forEach(D),e.owned=null),e.updatedAt=n+1,U(t)}finally{v=i,b=o}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?$(e,r):e.value=r,e.updatedAt=n)}(e,e.value,t)}function L(e,t,n,r=h,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:b,context:b?b.context:null,pure:n};return null===b||b!==y&&(b.owned?b.owned.push(i):b.owned=[i]),i}function N(e){if(0===e.state)return;if(e.state===g)return I(e);if(e.suspense&&_(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<k);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===h)z(e);else if(e.state===g){const n=w;w=null,T((()=>I(e,t[0])),!1),w=n}}function T(e,t){if(w)return e();let n=!1;t||(w=[]),x?n=!0:x=[],k++;try{const t=e();return function(e){w&&(B(w),w=null);if(e)return;const t=x;x=null,t.length&&T((()=>f(t)),!1)}(n),t}catch(e){n||(x=null),w=null,U(e)}}function B(e){for(let t=0;t<e.length;t++)N(e[t])}function R(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:N(r)}for(t=0;t<n;t++)N(e[t])}function I(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===h?r!==t&&(!r.updatedAt||r.updatedAt<k)&&N(r):e===g&&I(r,t)}}}function W(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=g,n.pure?w.push(n):x.push(n),n.observers&&W(n))}}function D(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)D(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)D(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function U(e,t=b){const n=function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e);throw n}const H=Symbol("fallback");function F(e){for(let t=0;t<e.length;t++)e[t]()}function q(e,t){return _((()=>e(t||{})))}function V(){return!0}const J={get:(e,t,n)=>t===c?n:e.get(t),has:(e,t)=>t===c||e.has(t),set:V,deleteProperty:V,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:V,deleteProperty:V}),ownKeys:e=>e.keys()};function K(e){const t="fallback"in e&&{fallback:()=>e.fallback};return O(function(e,t,n={}){let r=[],o=[],i=[],s=0,l=t.length>1?[]:null;return E((()=>F(i))),()=>{let a,c,u=e()||[],p=u.length;return u[d],_((()=>{let e,t,d,h,g,y,b,m,v;if(0===p)0!==s&&(F(i),i=[],r=[],o=[],s=0,l&&(l=[])),n.fallback&&(r=[H],o[0]=C((e=>(i[0]=e,n.fallback()))),s=1);else if(0===s){for(o=new Array(p),c=0;c<p;c++)r[c]=u[c],o[c]=C(f);s=p}else{for(d=new Array(p),h=new Array(p),l&&(g=new Array(p)),y=0,b=Math.min(s,p);y<b&&r[y]===u[y];y++);for(b=s-1,m=p-1;b>=y&&m>=y&&r[b]===u[m];b--,m--)d[m]=o[b],h[m]=i[b],l&&(g[m]=l[b]);for(e=new Map,t=new Array(m+1),c=m;c>=y;c--)v=u[c],a=e.get(v),t[c]=void 0===a?-1:a,e.set(v,c);for(a=y;a<=b;a++)v=r[a],c=e.get(v),void 0!==c&&-1!==c?(d[c]=o[a],h[c]=i[a],l&&(g[c]=l[a]),c=t[c],e.set(v,c)):i[a]();for(c=y;c<p;c++)c in d?(o[c]=d[c],i[c]=h[c],l&&(l[c]=g[c],l[c](c))):o[c]=C(f);o=o.slice(0,s=p),r=u.slice(0)}return o}));function f(e){if(i[c]=e,l){const[e,n]=P(c);return l[c]=n,t(u[c],e)}return t(u[c])}}}((()=>e.each),e.children,t||void 0))}function G(e){const t=e.keyed,n=O((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return O((()=>{const r=n();if(r){const o=e.children;return"function"==typeof o&&o.length>0?_((()=>o(t?r:()=>{if(!_(n))throw`Stale read from <${"Show"}>.`;return e.when}))):o}return e.fallback}),void 0,void 0)}const X=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),Z=new Set(["innerHTML","textContent","innerText","children"]),Y=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Q=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});const ee=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),te={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const ne="_$DX_DELEGATE";function re(e,t,n){let r;const o=()=>{const t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},i=t?()=>_((()=>document.importNode(r||(r=o()),!0))):()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function oe(e,t=window.document){const n=t[ne]||(t[ne]=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,de))}}function ie(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function se(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n,"function"!=typeof n&&n)}function le(e,t={},n,r){const o={};return r||A((()=>o.children=pe(e,t.children,o.children))),A((()=>{return"function"==typeof t.ref&&(n=t.ref,r=e,_((()=>n(r,o))));var n,r,o})),A((()=>function(e,t,n,r,o={},i=!1){t||(t={});for(const r in o)if(!(r in t)){if("children"===r)continue;o[r]=ue(e,r,null,o[r],n,i,t)}for(const s in t){if("children"===s){r||pe(e,t.children);continue}const l=t[s];o[s]=ue(e,s,l,o[s],n,i,t)}}(e,t,n,!0,o,!0))),o}function ae(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return pe(e,t,r,n);A((r=>pe(e,t(),r,n)),r)}function ce(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,o=r.length;t<o;t++)e.classList.toggle(r[t],n)}function ue(e,t,n,r,o,i,s){let l,a,c,u,d;if("style"===t)return function(e,t,n){if(!t)return n?ie(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let o,i;for(i in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[i]&&r.removeProperty(i),delete n[i];for(i in t)o=t[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let i,s;for(i=0,s=o.length;i<s;i++){const r=o[i];r&&"undefined"!==r&&!t[r]&&(ce(e,r,!1),delete n[r])}for(i=0,s=r.length;i<s;i++){const o=r[i],s=!!t[o];o&&"undefined"!==o&&n[o]!==s&&s&&(ce(e,o,!0),n[o]=s)}return n}(e,n,r);if(n===r)return r;if("ref"===t)i||n(e);else if("on:"===t.slice(0,3)){const o=t.slice(3);r&&e.removeEventListener(o,r,"function"!=typeof r&&r),n&&e.addEventListener(o,n,"function"!=typeof n&&n)}else if("oncapture:"===t.slice(0,10)){const o=t.slice(10);r&&e.removeEventListener(o,r,!0),n&&e.addEventListener(o,n,!0)}else if("on"===t.slice(0,2)){const o=t.slice(2).toLowerCase(),i=ee.has(o);if(!i&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(o,t)}(i||n)&&(se(e,o,n,i),i&&oe([o]))}else if("attr:"===t.slice(0,5))ie(e,t.slice(5),n);else if("bool:"===t.slice(0,5))!function(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}(e,t.slice(5),n);else if((d="prop:"===t.slice(0,5))||(c=Z.has(t))||!o&&((u=function(e,t){const n=Q[e];return"object"==typeof n?n[t]?n.$:void 0:n}(t,e.tagName))||(a=X.has(t)))||(l=e.nodeName.includes("-")||"is"in s))d&&(t=t.slice(5),a=!0),"class"===t||"className"===t?function(e,t){null==t?e.removeAttribute("class"):e.className=t}(e,n):!l||a||c?e[u||t]=n:e[(p=t,p.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=n;else{const r=o&&t.indexOf(":")>-1&&te[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):ie(e,Y[t]||t,n)}var p;return n}function de(e){if(l.registry&&l.events&&l.events.find((([t,n])=>n===e)))return;let t=e.target;const n=`$$${e.type}`,r=e.target,o=e.currentTarget,i=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),s=()=>{const r=t[n];if(r&&!t.disabled){const o=t[`${n}Data`];if(void 0!==o?r.call(t,o,e):r.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),l.registry&&!l.done&&(l.done=_$HY.done=!0),e.composedPath){const n=e.composedPath();i(n[0]);for(let e=0;e<n.length-2&&(t=n[e],s());e++){if(t._$host){t=t._$host,a();break}if(t.parentNode===o)break}}else a();i(r)}function pe(e,t,n,r,o){for(;"function"==typeof n;)n=n();if(t===n)return n;const i=typeof t,s=void 0!==r;if(e=s&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i){if("number"===i&&(t=t.toString())===n)return n;if(s){let o=n[0];o&&3===o.nodeType?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=ge(e,n,r,o)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===i)n=ge(e,n,r);else{if("function"===i)return A((()=>{let o=t();for(;"function"==typeof o;)o=o();n=pe(e,o,n,r)})),()=>n;if(Array.isArray(t)){const i=[],l=n&&Array.isArray(n);if(fe(i,t,n,o))return A((()=>n=pe(e,i,n,r,!0))),()=>n;if(0===i.length){if(n=ge(e,n,r),s)return n}else l?0===n.length?he(e,i,r):function(e,t,n){let r=n.length,o=t.length,i=r,s=0,l=0,a=t[o-1].nextSibling,c=null;for(;s<o||l<i;)if(t[s]!==n[l]){for(;t[o-1]===n[i-1];)o--,i--;if(o===s){const t=i<r?l?n[l-1].nextSibling:n[i-l]:a;for(;l<i;)e.insertBefore(n[l++],t)}else if(i===l)for(;s<o;)c&&c.has(t[s])||t[s].remove(),s++;else if(t[s]===n[i-1]&&n[l]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--i],r),t[o]=n[i]}else{if(!c){c=new Map;let e=l;for(;e<i;)c.set(n[e],e++)}const r=c.get(t[s]);if(null!=r)if(l<r&&r<i){let a,u=s,d=1;for(;++u<o&&u<i&&null!=(a=c.get(t[u]))&&a===r+d;)d++;if(d>r-l){const o=t[s];for(;l<r;)e.insertBefore(n[l++],o)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}else s++,l++}(e,n,i):(n&&ge(e),he(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ge(e,n,r,t);ge(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function fe(e,t,n,r){let o=!1;for(let i=0,s=t.length;i<s;i++){let s,l=t[i],a=n&&n[e.length];if(null==l||!0===l||!1===l);else if("object"==(s=typeof l)&&l.nodeType)e.push(l);else if(Array.isArray(l))o=fe(e,l,a)||o;else if("function"===s)if(r){for(;"function"==typeof l;)l=l();o=fe(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||o}else e.push(l),o=!0;else{const t=String(l);a&&3===a.nodeType&&a.data===t?e.push(a):e.push(document.createTextNode(t))}}return o}function he(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function ge(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const s=t[i];if(o!==s){const t=s.parentNode===e;r||i?t&&s.remove():t?e.replaceChild(o,s):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}function ye(e){return(t,n)=>{const{element:r}=n;return C((o=>{const i=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[o,i]=P(e[t[r]]);Object.defineProperty(n,t[r],{get:o,set(e){i((()=>e))}})}return n}(t);r.addPropertyChangedCallback(((e,t)=>i[e]=t)),r.addReleaseCallback((()=>{r.renderRoot.textContent="",o()}));const s=e(i,n);return ae(r.renderRoot,s)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}}var be=["src"];function me(e){const t=document.createElement("script"),n=Object.keys(e).filter((e=>e.startsWith("on"))),[r,o,i]=function(e,...t){if(u&&c in e){const n=new Set(t.length>1?t.flat():t[0]),r=t.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},J)));return r.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},J)),r}const n={},r=t.map((()=>({})));for(const o of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let l=!1,a=0;for(const e of t)e.includes(o)&&(l=!0,s?r[a][o]=i.value:Object.defineProperty(r[a],o,i)),++a;l||(s?n[o]=i.value:Object.defineProperty(n,o,i))}return[...r,n]}(e,be,n);return setTimeout((()=>le(t,i,!1,!0))),A((()=>{Object.entries(o).forEach((([e,n])=>t.addEventListener(/^on:?(.*)/.test(e)?e.startsWith("on:")?RegExp.$1:RegExp.$1.toLowerCase():e,(e=>{Object.defineProperties(e,{target:{value:t,enumerable:!0},currentTarget:{value:t,enumerable:!0}}),Array.isArray(n)?n[0](n[1],e):"function"==typeof n&&n?.call(null,Object.assign(e))}))));const e="string"==typeof r.src?r.src:r.src(),n=/^(https?:|\w[\.\w-_%]+|)\//.test(e)?"src":"textContent";t[n]!==e&&(t[n]=e,document.head.appendChild(t))})),E((()=>document.head.contains(t)&&document.head.removeChild(t))),t}const ve=e=>{const{analyser:t,scaleFactorMultiplier:n=.5}=e;t.fftSize=256;const r=new Uint8Array(t.frequencyBinCount);t.getByteFrequencyData(r);const o=[0,0,0],i=[1,0,2];for(let e=0;e<3;e++){const t=i[e],s=Math.abs(1-t),l=r[Math.floor(r.length/2)-s]/255;o[t]=3*l*100*n}return o};var we=re("<style>"),xe=re("<div class=status-indicator>"),ke=re("<div id=voice-chat-widget>"),Ce=re("<button><span>✕"),Pe=re("<div id=calendly-embed>"),Ae=re("<dialog id=calendly-dialog>"),Se=re("<button id=widget-toggle><img id=widget-toggle-img>"),Oe=re("<div id=widget-content><div id=widget-content-header><p class=name></p><button id=book-appointment-button></button></div><img id=avatar-image><div id=voice-animation></div><p id=powered-by-text>Powered by RepnAI"),_e=re("<div class=bar>"),je=re('<div id=floating-buttons><button id=minimize-button><div id=minimized-speech-bubble></div><p id=speaking-summary></p><svg id=minimize-icon width=18 height=32 viewBox="0 0 32 32"fill=none xmlns=http://www.w3.org/2000/svg><path d="M5.33317 12L15.9998 22.6667L26.6665 12"stroke=black stroke-width=3 stroke-linecap=round stroke-linejoin=round>'),Ee=re("<div class=minimized-bar>"),Me=re('<svg width=30 height=30 viewBox="0 0 50 48"fill=none xmlns=http://www.w3.org/2000/svg><path d="M41.1584 42V40C41.1584 37.7909 39.3252 36 37.0638 36H28.8747C26.6133 36 24.7801 37.7909 24.7801 40V42M18.6383 22H8.40186M41.1584 18V14C41.1584 11.7909 39.3252 10 37.0638 10H12.4964C10.2351 10 8.40186 11.7909 8.40186 14V38C8.40186 40.2091 10.2351 42 12.4964 42H16.591M30.9219 6V14M18.6383 6V14M37.0638 26C37.0638 28.2091 35.2306 30 32.9692 30C30.7079 30 28.8747 28.2091 28.8747 26C28.8747 23.7909 30.7079 22 32.9692 22C35.2306 22 37.0638 23.7909 37.0638 26Z"stroke=#001A72 stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>'),$e=re('<button id=close-button><svg width=32 height=32 viewBox="0 0 32 32"fill=none xmlns=http://www.w3.org/2000/svg><path d="M25.3332 6.66666L6.6665 25.3333M6.66652 6.66666L25.3332 25.3333"stroke=black stroke-width=3 stroke-linecap=round stroke-linejoin=round>');const{API_URL:ze,WEBSOCKET_URL:Le}=(()=>{try{return{API_URL:"https://repn-voice-api.fly.dev",WEBSOCKET_URL:"wss://repn-voice-api.fly.dev/talk"}}catch(e){return{API_URL:"https://repn-voice-api.fly.dev",WEBSOCKET_URL:"wss://repn-voice-api.fly.dev/talk"}}})(),Ne=e=>{const[t,n]=P(null),[r,o]=P(!1),[i,s]=P(!1),[l,a]=P([0,0,0]),[c,u]=P([0,0,0]),[d,p]=P(!1),[f,h]=P(!1),[g,y]=P(!1);let b=null,m=null;S(j(f,(()=>{const t=t=>{if(!Fe(t))return;"calendly.event_scheduled"===t.data.event&&He(e.agentId)};f()?window.addEventListener("message",t):window.removeEventListener("message",t)}))),S(j(g,(()=>{g()&&v()})));const v=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});b=new MediaRecorder(e),b.addEventListener("dataavailable",(async e=>{if(e.data.size>0&&m&&m.readyState===WebSocket.OPEN){const n=await(t=e.data,new Promise(((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result.split(",")[1]),r.onerror=n,r.readAsDataURL(t)})));m.send(JSON.stringify({type:"audioIn",data:n}))}var t})),b.start(500)}catch(e){console.error("Error accessing microphone:",e)}},w=()=>{b&&"inactive"!==b.state&&(b.stop(),console.log("MediaRecorder stopped"))},x=()=>{const t=`${Le}?agentID=${e.agentId}`;m=new WebSocket(t),m.onopen=()=>{console.log("WebSocket connected"),(e=>{const{socket:t,setBarHeights:n,setMinimizedBarHeights:r,setSocketReady:o}=e;let i=new MediaSource;const s=new Audio,l=new(window.AudioContext||window.webkitAudioContext),a=l.createAnalyser();let c=null,u=[],d=!1,p=0,f=null;const h=()=>{n(ve({analyser:a,scaleFactorMultiplier:1})),r(ve({analyser:a,scaleFactorMultiplier:.2})),requestAnimationFrame(h)},g=setInterval((()=>{if(0!==s.currentTime){if(s.currentTime===p){if(f)return;f=setTimeout((()=>{t.send(JSON.stringify({type:"inactivity"}))}),1e4)}else f&&(clearTimeout(f),f=null);p=s.currentTime}}),150),y=()=>{if(!c||d||0===u.length||c.updating)return;d=!0;const e=u.shift();e&&c.appendBuffer(e)};h(),l.createMediaElementSource(s).connect(a),a.connect(l.destination),s.src=URL.createObjectURL(i),i.onsourceopen=()=>{c=i.addSourceBuffer("audio/mpeg"),c.onupdateend=()=>{d=!1,y()}},s.oncanplay=()=>{s.play().catch((e=>console.error("Error playing audio:",e)))},s.onended=()=>{console.log("audio ended")},s.onplaying=()=>{console.log("audio playing")},t.onmessage=async e=>{if(e.data instanceof Blob){const t=await e.data.arrayBuffer();u.push(t),y()}else switch(JSON.parse(e.data).type){case"voiceActivityStart":console.log("voiceActivityStart"),f&&(clearTimeout(f),f=null),s.currentTime=0,s.pause(),u=[],c&&!c.updating&&c.abort(),i.endOfStream(),i=new MediaSource,s.src=URL.createObjectURL(i),i.onsourceopen=()=>{console.log("source open"),c=i.addSourceBuffer("audio/mpeg"),c.onupdateend=()=>{d=!1,y()}};break;case"voiceActivityEnd":console.log("voiceActivityEnd");break;case"newAudioStream":console.log("newAudioStream"),u=[];break;case"ready":o(!0)}},E((()=>{clearInterval(g),s.pause(),s.src="",l.close()}))})({socket:m,setBarHeights:a,setMinimizedBarHeights:u,setSocketReady:y})},m.onclose=()=>{console.log("WebSocket disconnected"),s(!1)},m.onerror=e=>{console.error("WebSocket error:",e)}},k=()=>{m&&m.close()};var C;C=()=>{me({src:"https://assets.calendly.com/assets/external/widget.js",async:!0}),Ue(e.agentId).then((e=>{n(e),p(!0)}))},S((()=>_(C))),E((()=>{k(),w()}));const A=()=>{s(!0),m?(k(),w()):x()},O=()=>{o(!r())},M=()=>{s(!1),o(!1),k(),w()},$=e=>{f()?z():(e.stopPropagation(),void 0!==window.Calendly?(h(!0),qe()):console.error("Calendly not found"))},z=()=>{h(!1)};return q(G,{get when(){return d()},fallback:[],get children(){return[q(Te,{get isOpen(){return f()},onClose:z}),(n=we(),ae(n,"\n#voice-chat-widget {\n  position: fixed;\n  bottom: 5px;\n  right: 5px;\n  font-family: sans-serif;\n  z-index: 10000;\n}\n\n#widget-toggle {\n  border: none;\n  color: white;\n  padding: 0;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin: 1px;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 80px;\n  height: 80px;\n  overflow: hidden;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n  animation: pulse 2s infinite;\n  animation-iteration-count: 2;\n}\n\n#widget-toggle:hover {\n  cursor: pointer;\n  transform: scale(1.05);\n}\n\n@keyframes pulse {\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n}\n\n.status-indicator {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  width: 20px;\n  height: 20px;\n  background-color: #10B981; /* green for online */\n  border-radius: 50%;\n  border: 2px solid white;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  opacity: 1;\n  transition: opacity 0.3s ease-in-out;\n  animation: showStatusAfterPulse 4s forwards;\n}\n\n@keyframes showStatusAfterPulse {\n  0%, 99% { opacity: 0; }\n  100% { opacity: 1; }\n}\n\n#widget-toggle:hover .status-indicator,\n#widget-toggle:active .status-indicator {\n  opacity: 0;\n}\n\n#widget-toggle-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 50%;\n}\n\n#widget-content {\n  background: #E5F3FF;\n  padding: 10px;\n  margin-bottom: 50px;\n  width: 150px;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n  border: 1px solid #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 20px;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n  opacity: 0;\n}\n\n#widget-content-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 10px;\n}\n\n#widget-content-header .name {\n  color: #3b82f6;\n  margin: 0;\n  font-size: 18px;\n}\n\n#book-appointment-button {\n  padding: 3px;\n  background-color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 10px;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n}\n\n#avatar-image {\n  width: 100px;\n  height: 100px;\n  object-fit: cover;\n  border-radius: 50%;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n  margin-bottom: 10px;\n}\n\n#voice-animation {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 30px;\n  background-color: white;\n  border-radius: 25px;\n  padding: 10px;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n  width: 100%;\n  margin-bottom: 10px;\n}\n\n#voice-animation .bar {\n  background-color: #3b82f6;\n  bottom: 1px;\n  height: 6px;\n  width: 6px;\n  margin: 0 2px;\n  border-radius: 5px;\n  transition: all 0.3s ease-in-out;\n  min-height: 6px;\n}\n\n#powered-by-text {\n  color: #3b82f6;\n  font-size: 10px;\n  text-align: center;\n  margin-top: auto;\n  margin-bottom: 0;\n  font-weight: 300;\n}\n\n\n#floating-buttons {\n  position: absolute;\n  bottom: 5px;\n  right: 10px;\n  gap: 10px;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n  opacity: 0;\n}\n\n\n#minimize-button {\n  padding: 10px;\n  background-color: white;\n  border: 1px solid black;\n  cursor: pointer;\n  border-radius: 50%;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n  width: 40px;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease-in-out;\n}\n  \n\n#minimized-speech-bubble {\n  display: flex;\n  align-items: center;\n  height: 30px;\n}\n\n#minimized-speech-bubble .minimized-bar {\n  background-color: black;\n  height: 3px;\n  width: 3px;\n  margin: 0 2px;\n  border-radius: 5px;\n  min-height: 3px;\n  max-height: 100%;\n}\n\n#speaking-summary {\n  color: black;\n  font-size: 14px;\n}\n\n#minimize-icon {\n  transition: all 0.3s ease-in-out;\n}\n\n#close-button {\n  padding: 10px;\n  background-color: white;\n  border: 1px solid black;\n  cursor: pointer;\n  border-radius: 50%;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\n  width: 40px;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease-in-out;\n}\n"),n),(e=ke(),ae(e,q(G,{get when(){return!i()},get children(){return xe()}}),null),ae(e,q(Be,{get isWidgetOpen(){return i()},get agentData(){return t()},onClick:A}),null),ae(e,q(Re,{get isWidgetOpen(){return i()},get isMinimized(){return r()},get agentData(){return t()},get barHeights(){return l()},onCalendlyClick:$}),null),ae(e,q(Ie,{get isWidgetOpen(){return i()},get isMinimized(){return r()},get minimizedBarHeights(){return c()},get agentData(){return t()},onMinimize:O,onClose:M}),null),e)];var e,n}})},Te=e=>{return se(t=Ae(),"close",e.onClose),t.style.setProperty("position","fixed"),t.style.setProperty("top","50%"),t.style.setProperty("left","50%"),t.style.setProperty("transform","translate(-50%, -50%)"),t.style.setProperty("z-index","9999"),t.style.setProperty("padding","0"),t.style.setProperty("border","1px solid #000"),t.style.setProperty("border-radius","8px"),t.style.setProperty("box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)"),t.style.setProperty("width","auto"),t.style.setProperty("height","760px"),ae(t,q(G,{get when(){return e.isOpen},fallback:[],get children(){return[(n=Ce(),r=n.firstChild,se(n,"click",e.onClose,!0),n.style.setProperty("position","absolute"),n.style.setProperty("top","10px"),n.style.setProperty("right","10px"),n.style.setProperty("background","#fff"),n.style.setProperty("border-radius","50%"),n.style.setProperty("width","30px"),n.style.setProperty("height","30px"),n.style.setProperty("display","flex"),n.style.setProperty("align-items","center"),n.style.setProperty("justify-content","center"),n.style.setProperty("border","none"),n.style.setProperty("cursor","pointer"),n.style.setProperty("box-shadow","0 2px 4px rgba(0, 0, 0, 0.1)"),r.style.setProperty("font-size","16px"),r.style.setProperty("color","#333"),r.style.setProperty("line-height","1"),n),(t=Pe(),t.style.setProperty("min-width","320px"),t.style.setProperty("height","750px"),t.style.setProperty("width","auto"),t)];var t,n,r}})),A((()=>t.open=e.isOpen)),t;var t},Be=e=>{return t=Se(),n=t.firstChild,se(t,"click",e.onClick,!0),A((r=>{var o=e.isWidgetOpen?"none":"inline-block",i=e.agentData?.avatarUrl,s=e.agentData?.displayName;return o!==r.e&&(null!=(r.e=o)?t.style.setProperty("display",o):t.style.removeProperty("display")),i!==r.t&&ie(n,"src",r.t=i),s!==r.a&&ie(n,"alt",r.a=s),r}),{e:void 0,t:void 0,a:void 0}),t;var t,n},Re=e=>{return t=Oe(),n=t.firstChild,r=n.firstChild,o=r.nextSibling,i=n.nextSibling,s=i.nextSibling,ae(r,(()=>e.agentData?.displayName)),se(o,"click",e.onCalendlyClick,!0),ae(o,q(We,{})),ae(s,q(K,{get each(){return e.barHeights},children:(e,t)=>{return n=_e(),null!=`${e}%`?n.style.setProperty("height",`${e}%`):n.style.removeProperty("height"),n;var n}})),A((n=>{var r=e.isWidgetOpen&&!e.isMinimized?"scale(1)":"scale(0)",o=e.isWidgetOpen&&!e.isMinimized?"1":"0",s=e.isWidgetOpen&&!e.isMinimized?"flex":"none",l=e.agentData?.avatarUrl,a=e.agentData?.displayName;return r!==n.e&&(null!=(n.e=r)?t.style.setProperty("transform",r):t.style.removeProperty("transform")),o!==n.t&&(null!=(n.t=o)?t.style.setProperty("opacity",o):t.style.removeProperty("opacity")),s!==n.a&&(null!=(n.a=s)?t.style.setProperty("display",s):t.style.removeProperty("display")),l!==n.o&&ie(i,"src",n.o=l),a!==n.i&&ie(i,"alt",n.i=a),n}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t;var t,n,r,o,i,s},Ie=e=>{return t=je(),n=t.firstChild,r=n.firstChild,o=r.nextSibling,i=o.nextSibling,se(n,"click",e.onMinimize,!0),ae(r,q(K,{get each(){return e.minimizedBarHeights},children:(e,t)=>{return n=Ee(),null!=`${e}%`?n.style.setProperty("height",`${e}%`):n.style.removeProperty("height"),n;var n}})),ae(o,(()=>e.agentData?.displayName)),ae(t,q(De,{get onClick(){return e.onClose}}),null),A((s=>{var l=e.isWidgetOpen?"scale(1)":"scale(0)",a=e.isWidgetOpen?"1":"0",c=e.isWidgetOpen?"flex":"none",u=e.isMinimized?"150px":"40px",d=e.isMinimized?"space-between":"center",p=e.isMinimized?"20px":"50%",f=e.isMinimized?"flex":"none",h=e.isMinimized?"block":"none",g=e.isMinimized?"rotate(180deg)":"rotate(0deg)";return l!==s.e&&(null!=(s.e=l)?t.style.setProperty("transform",l):t.style.removeProperty("transform")),a!==s.t&&(null!=(s.t=a)?t.style.setProperty("opacity",a):t.style.removeProperty("opacity")),c!==s.a&&(null!=(s.a=c)?t.style.setProperty("display",c):t.style.removeProperty("display")),u!==s.o&&(null!=(s.o=u)?n.style.setProperty("width",u):n.style.removeProperty("width")),d!==s.i&&(null!=(s.i=d)?n.style.setProperty("justify-content",d):n.style.removeProperty("justify-content")),p!==s.n&&(null!=(s.n=p)?n.style.setProperty("border-radius",p):n.style.removeProperty("border-radius")),f!==s.s&&(null!=(s.s=f)?r.style.setProperty("display",f):r.style.removeProperty("display")),h!==s.h&&(null!=(s.h=h)?o.style.setProperty("display",h):o.style.removeProperty("display")),g!==s.r&&(null!=(s.r=g)?i.style.setProperty("transform",g):i.style.removeProperty("transform")),s}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),t;var t,n,r,o,i},We=()=>Me(),De=({onClick:e})=>{return se(t=$e(),"click",e,!0),t;var t},Ue=async e=>{try{const t=await fetch(`${ze}/agent-data/${e}`);if(!t.ok)throw new Error("Failed to fetch agent data");return await t.json()}catch(e){console.error("Error fetching agent data:",e)}},He=e=>{fetch(`${ze}/agent-data/${e}`,{method:"POST"})},Fe=e=>e.data.event&&0===e.data.event.indexOf("calendly"),qe=()=>{const e={utm_source:"repnai",utm_medium:"voicechatwidget"};setTimeout((()=>{window.Calendly.initInlineWidget({url:"https://calendly.com/dawid-niegrebecki/meeting-with-dawid",parentElement:document.getElementById("calendly-embed"),utm:e})}),0)};function Ve(){!function(e,t,n){2===arguments.length&&(n=t,t={}),s(e,t)(ye(n))}("voice-chat-widget",{agentId:void 0},Ne)}oe(["click"]),Ve();export{Ve as registerWebComponents};

          
          // Automatically append the widget to the document
          (function() {
            function loadWidget() {
              const scripts = document.getElementsByTagName('script');
              let agentId = 'default-agent-id';
              for (let i = 0; i < scripts.length; i++) {
                if (scripts[i].getAttribute('data-script-id') === 'repnai-voice-chat-widget') {
                  agentId = scripts[i].getAttribute('data-agent-id') || agentId;
                  break;
                }
              }

              const widget = document.createElement('voice-chat-widget');
              widget.setAttribute('agent-id', agentId);
              document.body.appendChild(widget);
            }
      
            if (document.readyState === 'loading') {
              document.addEventListener('DOMContentLoaded', loadWidget);
            } else {
              loadWidget();
            }
          })();
        